(function(f){var g=location.search?k(location.search).page:1;var b={index:g,pageContainer:".item",after:function(){},before:function(){},speed:false,refresh:false,useWheel:true,useKeyboard:true,useAnimation:true,};var e=true;var v=true;var j=b.index-1;var s=f(b.pageContainer).css("transition-duration").replace("s","")*1000;var p=f(b.pageContainer).length;var t=window.innerHeight;var q="";window.slidePage={init:function(x,y){f.extend(b,x);l(b);c(b);y&&y.call(this)},index:function(x){if(x>0&&x!=j+1){x=parseInt(x)-1;var A=f(".item").eq(x).children().height();var z=(A-t)>20?1:0;if(x>j){for(var y=j;y<x;y++){r(f(b.pageContainer).eq(y));a(y+2,z);m(y+2)}}else{if(x<j){for(var y=j;y>=x+1;y--){i(f(b.pageContainer).eq(y));a(y,z);m(y)}}}j=x}return j},next:function(){if(j<p-1){var x=f(b.pageContainer).eq(j++);r(x);a(x.index()+2);m(x.index()+2);v=false}},prev:function(){if(j>0){var x=f(b.pageContainer).eq(j--);i(x);a(x.index());m(x.index());v=false}},fire:function(x){u(x)},canNext:true,canPrev:true,isScroll:false,};var o={nextSlide:function(y){y.css({transform:"translate3d(0px, -100%, 0px)","-webkit-transform":"translate3d(0px,-100%, 0px)"});var x=n("0");y.next().css(x)},prevSlide:function(x){x.prev().css({"-webkit-transform":"scale(1)",transform:"scale(1)"});x.css(n("100%"))},showSlide:function(x){x.css({"-webkit-transform":"scale(1)",transform:"scale(1)"});x.next().css(n("100%"))}};function h(){var x=navigator.userAgent;var A=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var y=true;for(var z=0;z<A.length;z++){if(x.indexOf(A[z])>0){y=false;break}}return y}function n(x){return{"-webkit-transform":"translate3d(0px, "+x+" 0px)",transform:"translate3d(0px, "+x+", 0px)"}}function d(){if(b.refresh&&v&&b.useAnimation){f(b.pageContainer).eq(j).find(".step").addClass("hide");f(b.pageContainer).eq(j).find(".lazy").addClass("hide")}}function k(A){var z={};if(/\?/.test(A)){var y=A.substring(A.indexOf("?")+1);var D=y.split("&");for(var B=0,x=D.length;B<x;B++){var E=D[B];var C=E.split("=");z[C[0]]=C[1]}return z}}function r(x){q="next";if(x.next().length){currentItem=x.next();w(x.next(),q);o.nextSlide(x)}else{o.showSlide(x)}b.before(x.index()+1,q,x.index()+2);keyindex=f(b.pageContainer).index(x);d()}function i(x){q="prev";if(x.prev().length){currentItem=x.prev();w(x.prev(),q);o.prevSlide(x);x.prev().prev().css(n("-100%"))}else{o.showSlide(x)}b.before(x.index()+1,q,x.index());keyindex=f(b.pageContainer).index(x);d()}function l(y){if(!!y.speed){f(y.pageContainer).css({"transition-duration":y.speed+"ms","-webkit-transition-duration":y.speed+"ms"})}slidePage.index(y.index);if(!!y.useAnimation){var x=f(y.pageContainer);x.find(".step").addClass("hide");x.find(".lazy").addClass("hide");w(x.eq(y.index-1))}}function w(z,y){e=true;setTimeout(function(){v=y||v},b.speed||s);var x=f(z).find(".step");x.each(function(A,B){var C=f(B).attr("data-delay")||100;setTimeout(function(){f(B).removeClass("hide")},C)})}function u(x){var z=f(b.pageContainer).eq(x-1);var y=z.find(".lazy");y.each(function(A,B){var C=f(B).attr("data-delay")||100;setTimeout(function(){f(B).removeClass("hide")},C)})}function a(A,z){var z=z===0?0:false||1;var y=f(".item").eq(A-1).children().height();if((y-t)>20){var x=q=="next";!x?f(b.pageContainer).eq(A-1).scrollTop(y-t-z):f(b.pageContainer).eq(A-1).scrollTop(z)}}function m(y){var x=f(".item").eq(y-1).children().height();if((x-t)>20){f(b.pageContainer).eq(y-1).on("scroll",function(B){var A=x==this.scrollTop+t;var z=this.scrollTop==0;slidePage.canSlide=A||z;slidePage.canPrev=z&&!A;slidePage.canNext=A&&!z;slidePage.isScroll=!(slidePage.canSlide)})}else{slidePage.canPrev=true;slidePage.canNext=true;slidePage.canSlide=true;slidePage.isScroll=false}}function c(x){function y(A){var A=A||window.event;if(A.wheelDeltaY<0||A.wheelDelta<0||A.detail>0){slidePage.canNext&&v&&slidePage.next()}else{if(A.wheelDeltaY>0||A.wheelDelta>0||A.detail<0){slidePage.canPrev&&v&&slidePage.prev()}}}if(!!x.useWheel){document.onmousewheel=y;document.addEventListener&&document.addEventListener("DOMMouseScroll",y,false)}if(!!x.useKeyboard){document.onkeydown=function(A){if(A.keyCode=="40"&&v&&j<p-1){slidePage.canNext&&slidePage.next()}else{if(A.keyCode=="38"&&v&&j>0){slidePage.canPrev&&slidePage.prev()}}}}var z=0;document.getElementById("slidePage-container").addEventListener("touchstart",function(A){z=A.touches[0].clientY});document.getElementById("slidePage-container").addEventListener("touchmove",function(B){var A=B.touches[0].clientY-z;!slidePage.canPrev&&A>5&&(slidePage.isScroll=true);!slidePage.canNext&&A<-5&&(slidePage.isScroll=true);!slidePage.isScroll&&B.preventDefault()});f(x.pageContainer).on({swipeUp:function(){slidePage.canNext&&slidePage.next()},swipeDown:function(){slidePage.canPrev&&slidePage.prev()}});f(x.pageContainer).on("transitionend webkitTransitionEnd",function(A){if(e){x.after(q=="next"?j:j+2,q,j+1);e=false}})}})($);(function(f){var g={},a,k,c,i,d=750,l;function j(p,o,r,q){return Math.abs(p-o)>=Math.abs(r-q)?(p-o>0?"Left":"Right"):(r-q>0?"Up":"Down")}function n(){i=null;if(g.last){g.el.trigger("longTap");g={}}}function b(){if(i){clearTimeout(i)}i=null}function e(){if(a){clearTimeout(a)}if(k){clearTimeout(k)}if(c){clearTimeout(c)}if(i){clearTimeout(i)}a=k=c=i=null;g={}}function m(o){return(o.pointerType=="touch"||o.pointerType==o.MSPOINTER_TYPE_TOUCH)&&o.isPrimary}function h(p,o){return(p.type=="pointer"+o||p.type.toLowerCase()=="mspointer"+o)}f(document).ready(function(){var p,t,q=0,r=0,s,o;if("MSGesture" in window){l=new MSGesture();l.target=document.body}f(document).bind("MSGestureEnd",function(v){var u=v.velocityX>1?"Right":v.velocityX<-1?"Left":v.velocityY>1?"Down":v.velocityY<-1?"Up":null;if(u){g.el.trigger("swipe");g.el.trigger("swipe"+u)}}).on("touchstart MSPointerDown pointerdown",function(u){u.Touches=u.originalEvent?u.originalEvent.changedTouches:u.touches;if((o=h(u,"down"))&&!m(u)){return}s=o?u:u.Touches[0];if(u.Touches&&u.Touches.length===1&&g.x2){g.x2=undefined;g.y2=undefined}p=Date.now();t=p-(g.last||p);g.el=f("tagName" in s.target?s.target:s.target.parentNode);a&&clearTimeout(a);g.x1=s.pageX;g.y1=s.pageY;if(t>0&&t<=250){g.isDoubleTap=true}g.last=p;i=setTimeout(n,d);if(l&&o){l.addPointer(u.pointerId)}}).on("touchmove MSPointerMove pointermove",function(u){u.Touches=u.originalEvent?u.originalEvent.changedTouches:u.touches;if((o=h(u,"move"))&&!m(u)){return}s=o?u:u.Touches[0];b();g.x2=s.pageX;g.y2=s.pageY;q+=Math.abs(g.x1-g.x2);r+=Math.abs(g.y1-g.y2)}).on("touchend MSPointerUp pointerup",function(u){if((o=h(u,"up"))&&!m(u)){return}b();if((g.x2&&Math.abs(g.x1-g.x2)>30)||(g.y2&&Math.abs(g.y1-g.y2)>30)){c=setTimeout(function(){g.el.trigger("swipe");g.el.trigger("swipe"+(j(g.x1,g.x2,g.y1,g.y2)));g={}},0)}else{if("last" in g){if(q<30&&r<30){k=setTimeout(function(){var v=f.Event("tap");v.cancelTouch=e;g.el.trigger(v);if(g.isDoubleTap){if(g.el){g.el.trigger("doubleTap")}g={}}else{a=setTimeout(function(){a=null;if(g.el){g.el.trigger("singleTap")}g={}},250)}},0)}else{g={}}}}q=r=0}).on("touchcancel MSPointerCancel pointercancel",e);f(window).on("scroll",e)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(o){f.fn[o]=function(p){return this.on(o,p)}})})($);